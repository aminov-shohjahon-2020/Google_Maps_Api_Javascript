<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My_Google_Map</title>
    <style>
        #map {
            height: 800px;
            width: 100%;
        }
        
        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <h1>My Google Map</h1>
    <div id="map"></div>
    <script>
        function initMap() {
            var options = {
                zoom: 8,
                center: {
                    lat: 41.26465,
                    lng: 69.21627
                }
            }

            // New Map
            var map = new
            google.maps.Map(document.getElementById('map'), options);

            // Listener for click on map 
            google.maps.event.addListener(map, 'click', function(event) {

                // Add marker 
                addMarker({
                    coords: event.latLng
                });
            });


            // Add marker 
            // var marker = new google.maps.Marker({
            //     position: {
            //         lat: 41.265,
            //         lng: 69.216
            //     },
            //     map: map,
            //     icon: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
            // });

            // var infoWindow = new google.maps.InfoWindow({
            //     content: '<h1>Sergili</h1>'
            // });

            // marker.addListener('click', function() {
            //     infoWindow.open(map, marker);
            // });

            // Array of markers 
            var markers = [{
                    coords: {
                        lat: 41.26465,
                        lng: 69.21627
                    },
                    iconImage: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                    content: '<h1>Tashkent</h1>'
                }, {
                    coords: {
                        lat: 41.5517809,
                        lng: 60.6313161
                    },
                    content: '<h1>Kharezm</h1>'
                }, {
                    coords: {
                        lat: 39.65417,
                        lng: 66.95972
                    },
                    content: '<h1>Samarkand</h1>'
                }, {
                    coords: {
                        lat: 43.324904,
                        lng: 57.870151
                    },
                    content: '<h1>Qaraqalpaqstan</h1>'

                }, {
                    coords: {
                        lat: 40.08444,
                        lng: 65.37917
                    },
                    content: '<h1>Navoi</h1>'
                }

            ];

            // Loop through markers 
            for (var i = 0; i < markers.length; i++) {
                addMarker(markers[i]);
            }








            // addMarker({
            //     coords: {
            //         lat: 41.26465,
            //         lng: 69.21627
            //     },
            //     iconImage: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
            //     content: '<h1>Tashkent</h1>'
            // });
            // addMarker({
            //     coords: {
            //         lat: 41.5517809,
            //         lng: 60.6313161
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 39.65417,
            //         lng: 66.95972
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.502209,
            //         lng: 68.782593
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.78206,
            //         lng: 72.34424
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.9983,
            //         lng: 71.67257
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.38421,
            //         lng: 71.78432
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.84361,
            //         lng: 68.66167
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 40.11583,
            //         lng: 67.84222
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 38.26746,
            //         lng: 67.89886
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 39.05778,
            //         lng: 66.83417
            //     }
            // });
            // addMarker({
            //     coords: {
            //         lat: 39.7747,
            //         lng: 64.4286
            //     }
            // });



            //Add Marker Function 
            function addMarker(props) {
                var marker = new google.maps.Marker({
                    position: props.coords,
                    map: map,
                    icon: props.iconImage
                });

                // Check for custom icon 
                if (props.iconImage) {
                    // Set icon image 
                    marker.setIcon(props.iconImage);
                }

                // Check content  
                if (props.content) {
                    var infoWindow = new google.maps.InfoWindow({
                        content: props.content
                    });

                    marker.addListener('click', function() {
                        infoWindow.open(map, marker);
                    });
                }

            }

        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBmbNcLEVw0bXJmO026my1FssisZB5dPG4&callback=initMap">
    </script>
</body>

</html>